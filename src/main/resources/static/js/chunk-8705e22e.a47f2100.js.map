{"version":3,"sources":["webpack:///./src/components/MyCanvas.vue?cb09","webpack:///src/components/MyCanvas.vue","webpack:///./src/components/MyCanvas.vue?c2b3","webpack:///./src/components/MyCanvas.vue","webpack:///./src/components/MyCanvas.vue?c1be","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/directives/canvas.directive.js","webpack:///./src/components/MyLineSizeMenu.vue?cf73","webpack:///src/components/MyLineSizeMenu.vue","webpack:///./src/components/MyLineSizeMenu.vue?2f08","webpack:///./src/components/MyLineSizeMenu.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","nameState","model","value","callback","$$v","name","expression","connected","on","$event","preventDefault","connect","apply","arguments","disconnect","_e","directives","rawName","selectColor","strokeStyle","lineSize","_l","x","i","key","style","getColorStyle","background","clearCanvas","ref","staticRenderFns","components","lineSizeMenu","canvas","data","colorList","sessionID","stompClient","socket","watch","$refs","lineWidth","computed","length","mounted","initCanvas","methods","extStyle","myname","USER_STROKE","sayHello","parent","color","cursor","console","log","canvasDisabled","send","lines","JSON","stringify","msg","component","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","k","len","E","A","n","TypeError","inserted","el","ctx","getContext","width","height","lineJoin","lineCap","prevPos","y","line","isPainting","isTouch","handleMouseDown","e","offsetX","offsetY","clientX","clientY","endPaintEvent","sendPaintData","handleMouseMove","offSetData","positionInfo","start","stop","paint","posInfo","beginPath","moveTo","lineTo","stroke","clear","clearRect","paintLines","allLines","forEach","pos","addEventListener","evtMap","touchstart","touchmove","touchend","touchcancel","evtList","getTouchPos","canvasDom","touchEvent","rect","getBoundingClientRect","touches","left","top","evt","mousePos","mouseEvent","MouseEvent","dispatchEvent","slot","menuStyle","currentSize","updateValue","props","currentSizeList","currentColor","sizeList","defaultSize","$emit"],"mappings":"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","file":"js/chunk-8705e22e.a47f2100.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\",attrs:{\"id\":\"main-content\"}},[_c('div',{staticClass:\"row\",staticStyle:{\"max-height\":\"30%\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"col-md-12\"},[_c('h3',{attrs:{\"align\":\"center\"}},[_vm._v(\"Welcome to Jack's Drawing Room\")]),_c('form',[_c('div',{staticClass:\"form-group\"},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Your Name:\")]),_c('b-input',{staticClass:\"form-control ml-1\",attrs:{\"type\":\"text\",\"id\":\"name\",\"state\":_vm.nameState,\"placeholder\":\"Please enter your name here...\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('b-form-invalid-feedback',{attrs:{\"id\":\"name-feedback\"}},[_vm._v(\" Enter at least 3 letters \")])],1),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"connect\",\"size\":\"sm\",\"variant\":\"outline-primary\",\"type\":\"submit\",\"disabled\":_vm.connected == true || _vm.nameState == false},on:{\"click\":function($event){$event.preventDefault();return _vm.connect.apply(null, arguments)}}},[_vm._v(\"Join\")]),_c('b-button',{staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"disconnect\",\"variant\":\"outline-primary\",\"size\":\"sm\",\"type\":\"submit\",\"disabled\":_vm.connected == false},on:{\"click\":function($event){$event.preventDefault();return _vm.disconnect.apply(null, arguments)}}},[_vm._v(\" Leave \")])],1)],1)],1)])])]),_c('div',[_c('h5',[_vm._v(\" Color Guide \"),(_vm.connected)?_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(\"Connected\")]):_vm._e(),(!_vm.connected)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Disconnected\")]):_vm._e()]),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"2\"}},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('colorPicker',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\"}],staticClass:\"color\",attrs:{\"disabled\":!_vm.connected,\"title\":\"Select custom color\"},on:{\"change\":_vm.selectColor},model:{value:(_vm.strokeStyle),callback:function ($$v) {_vm.strokeStyle=$$v},expression:\"strokeStyle\"}}),_c('lineSizeMenu',{attrs:{\"color\":_vm.strokeStyle,\"defaultSize\":_vm.lineSize},model:{value:(_vm.lineSize),callback:function ($$v) {_vm.lineSize=$$v},expression:\"lineSize\"}})],1)]),_vm._l((_vm.colorList),function(x,i){return _c('b-col',{key:i,staticClass:\"color ml-2\",style:(_vm.getColorStyle(x)),attrs:{\"cols\":\"1\"},on:{\"click\":function($event){return _vm.selectColor(x)}}})}),_c('b-col',{staticClass:\"ml-0\",attrs:{\"cols\":\"1\"}},[_c('b-img',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\"}],staticClass:\"mt-2 mb-2\",staticStyle:{\"display\":\"block\",\"margin\":\"auto\"},style:(_vm.getColorStyle(_vm.background)),attrs:{\"src\":\"eraser-big.png\",\"title\":\"Enjoy my eraser, $1/minute\"},on:{\"click\":function($event){return _vm.selectColor(_vm.background)}}})],1),_c('b-col',{attrs:{\"cols\":\"1\"}},[_c('b-button',{staticClass:\"color mt-1\",attrs:{\"size\":\"sm\",\"variant\":\"primary\",\"disabled\":!_vm.connected},on:{\"click\":function($event){return _vm.clearCanvas()}}},[_vm._v(\"Clear\")])],1)],2)],1),_c('div',[_c('b-row',[_c('b-col',{staticStyle:{\"overflow\":\"auto\"},attrs:{\"cols\":\"12\"}},[_c('canvas',{directives:[{name:\"canvas\",rawName:\"v-canvas\"}],ref:\"canvas\"})])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"main-content\" class=\"main\">\r\n    <div class=\"row\" style=\"max-height: 30%; overflow-y: auto\">\r\n      <div class=\"col-md-12\">\r\n        <h3 align=\"center\">Welcome to Jack's Drawing Room</h3>\r\n        <form>\r\n          <div class=\"form-group\">\r\n            <b-row>\r\n              <b-col cols=\"6\">\r\n                <label for=\"name\">Your Name:</label>\r\n                <b-input\r\n                  type=\"text\"\r\n                  id=\"name\"\r\n                  class=\"form-control ml-1\"\r\n                  v-model=\"name\"\r\n                  :state=\"nameState\"\r\n                  placeholder=\"Please enter your name here...\"\r\n                />\r\n                <b-form-invalid-feedback id=\"name-feedback\">\r\n                  Enter at least 3 letters\r\n                </b-form-invalid-feedback>\r\n              </b-col>\r\n              <b-col cols=\"6\">\r\n                <b-button\r\n                  block\r\n                  id=\"connect\"\r\n                  size=\"sm\"\r\n                  variant=\"outline-primary\"\r\n                  class=\"badge-default ml-1 mr-1\"\r\n                  type=\"submit\"\r\n                  :disabled=\"connected == true || nameState == false\"\r\n                  @click.prevent=\"connect\"\r\n                  >Join</b-button\r\n                >\r\n                <b-button\r\n                  block\r\n                  id=\"disconnect\"\r\n                  variant=\"outline-primary\"\r\n                  size=\"sm\"\r\n                  class=\"badge-default ml-1 mr-1\"\r\n                  type=\"submit\"\r\n                  :disabled=\"connected == false\"\r\n                  @click.prevent=\"disconnect\"\r\n                >\r\n                  Leave\r\n                </b-button>\r\n              </b-col>\r\n            </b-row>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n      <h5>\r\n          Color Guide\r\n          <span style=\"color:green\" v-if=\"connected\">Connected</span>\r\n          <span style=\"color:red\" v-if=\"!connected\">Disconnected</span>\r\n      </h5>\r\n      <b-row>\r\n        \r\n        <b-col cols=\"2\">\r\n          <div style=\"display:flex\"> \r\n          <colorPicker v-model=\"strokeStyle\" :disabled=\"!connected\" v-on:change=\"selectColor\" class=\"color\" \r\n            v-b-tooltip title=\"Select custom color\" />\r\n          <lineSizeMenu v-model=\"lineSize\" :color=\"strokeStyle\" :defaultSize=\"lineSize\" />\r\n          </div>\r\n        </b-col>\r\n\r\n        <b-col\r\n          cols=\"1\"\r\n          class=\"color ml-2\"\r\n          v-for=\"(x, i) in colorList\"\r\n          :key=\"i\"\r\n          :style=\"getColorStyle(x)\"\r\n          @click=\"selectColor(x)\"\r\n        >\r\n        </b-col>\r\n        <b-col cols=\"1\" class=\"ml-0\">\r\n          <b-img src=\"eraser-big.png\" class=\"mt-2 mb-2\" v-b-tooltip title=\"Enjoy my eraser, $1/minute\" style=\"display:block;margin:auto;\"\r\n            :style=\"getColorStyle(background)\" @click=\"selectColor(background)\"/>\r\n        </b-col>\r\n        <b-col cols=\"1\">\r\n          <b-button size=\"sm\" variant=\"primary\" class=\"color mt-1\" @click=\"clearCanvas()\" :disabled=\"!connected\">Clear</b-button>\r\n        </b-col>\r\n\r\n      <!--    \r\n          <div>\r\n            <b-dropdown id=\"dropdown-offset\" offset=\"25\" class=\"m-2\" variant=\"outline\" style=\"background:white;height:40px;width:60px;padding:4px\">\r\n              <span slot=\"button-content\"><div style=\"background:red;width:50px;height:5px;\" /></span>\r\n              <b-dropdown-item href=\"#\">Action</b-dropdown-item>\r\n              <b-dropdown-item href=\"#\">Another action</b-dropdown-item>\r\n              <b-dropdown-item href=\"#\"><div style=\"background:red;width:50px;height:5px;\" /></b-dropdown-item>\r\n            </b-dropdown>\r\n          </div>\r\n        -->\r\n        \r\n      </b-row>\r\n    </div>\r\n    <div>\r\n      <b-row>\r\n        <b-col cols=\"12\" style=\"overflow: auto\">\r\n          <!-- Bind the custom directive to the canvas element -->\r\n          <canvas ref=\"canvas\" v-canvas ></canvas>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n    \r\n<script>\r\nimport canvas from \"../directives/canvas.directive\";\r\nimport SockJS from \"sockjs-client\";\r\nimport Stomp from \"webstomp-client\";\r\nimport lineSizeMenu from \"@/components/MyLineSizeMenu\";\r\nimport config from \"../myconfig.js\";\r\n\r\nexport default {\r\n  name: \"mycanvas\",\r\n  components: {\r\n    lineSizeMenu\r\n  },\r\n  // Here we register our custom directive\r\n  directives: {\r\n    canvas\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      colorList: [\r\n        \"red\",\r\n        \"yellow\",\r\n        \"pink\",\r\n        \"skyblue\",\r\n        \"brown\",\r\n      ],\r\n      strokeStyle: \"black\",\r\n      background: \"green\",\r\n\r\n      name: \"jack\",\r\n      connected: false,\r\n      sessionID: \"\",\r\n      stompClient: null,\r\n      socket: null,\r\n      lineSize: 5\r\n    };\r\n  },\r\n  watch: {\r\n    /*strokeStyle: function (newVal) {\r\n        this.selectColor(newVal);\r\n    },*/\r\n    lineSize: function(newVal) {\r\n      this.$refs.canvas.lineWidth = (this.strokeStyle === this.background) ? 30 : newVal;\r\n    }\r\n  },\r\n  computed: {\r\n    nameState() {\r\n      return this.name.length >= 3 ? true : false;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.strokeStyle = \"black\";\r\n    this.lineSize = 5;\r\n    this.initCanvas();\r\n  },\r\n\r\n  methods: {\r\n    getColorStyle(x) {\r\n      let style = \"height: 30px; border-width: 2px;\";\r\n      let extStyle = (x === this.strokeStyle && this.connected)\r\n        ? 'border-style:solid;background:' + x\r\n        : 'background:' + x;\r\n      return style + extStyle;\r\n    },\r\n\r\n    async clearCanvas() {\r\n\r\n      let retValue = await this.$bvModal.msgBoxConfirm('Please confirm that you want to clear everything.', {\r\n        title: 'Please Confirm',\r\n        okVariant: 'danger',\r\n        okTitle: 'Yes',\r\n        cancelTitle: 'No',\r\n        centered: true\r\n      });\r\n      if (!retValue) return;\r\n\r\n      // send request to clear the canvas\r\n      if (this.stompClient && this.stompClient.connected) {\r\n        const msg = { name: this.name, clear: true };\r\n        this.stompClient.send(\"/app/canvas\", JSON.stringify(msg), {});\r\n      }\r\n    },\r\n\r\n    initCanvas() {\r\n      this.$refs.canvas.myname = \"JACK\";\r\n\r\n      this.$refs.canvas.connected = this.connected;\r\n\r\n     // set initial stoke color\r\n      this.$refs.canvas.USER_STROKE = this.strokeStyle;\r\n      this.$refs.canvas.lineWidth = (this.strokeStyle === this.background) ? 30 : this.lineSize;\r\n\r\n      //this.$refs.canvas.style = \"cursor: url('eraser.png'),pointer;\";\r\n      this.$refs.canvas.style.background = this.background;\r\n\r\n      // call canvas method\r\n      this.$refs.canvas.sayHello();\r\n\r\n      // to make canvas call from inside\r\n      this.$refs.canvas.parent = this;\r\n\r\n    },\r\n\r\n    selectColor(color) {\r\n      if (!this.connected) return;\r\n\r\n      this.strokeStyle = color;\r\n      this.$refs.canvas.USER_STROKE = this.strokeStyle;\r\n      if (this.strokeStyle === this.background) {\r\n        // eraser\r\n        this.$refs.canvas.style.cursor = \"url('eraser.png'),pointer\";\r\n        this.$refs.canvas.lineWidth = 30;\r\n      } else {\r\n        this.$refs.canvas.style.cursor = \"pointer\";\r\n        this.$refs.canvas.lineWidth = this.lineSize;\r\n      }\r\n\r\n      //style=\"cursor: url('eraser.png'), pointer;\"\r\n      console.log(color);\r\n    },\r\n\r\n    sayHello() {\r\n      console.log(\"Hello Jack!\");\r\n    },\r\n\r\n    canvasDisabled() {\r\n      return false;\r\n    },\r\n    \r\n    // this method is called from inside canvas\r\n    send(lines) {\r\n      if (lines.length > 0) {\r\n        console.log(\"Send lines:\" + lines);\r\n        if (this.stompClient && this.stompClient.connected) {\r\n          const msg = { name: this.name, lines: lines };\r\n          this.stompClient.send(\"/app/canvas\", JSON.stringify(msg), {});\r\n        }\r\n      }\r\n    },\r\n    connect() {\r\n      this.socket = new SockJS(config.websocketURL);\r\n      this.stompClient = Stomp.over(this.socket);\r\n      this.stompClient.connect(\r\n        {},\r\n        (frame) => {\r\n          console.log(frame);\r\n          \r\n          this.stompClient.subscribe(\"/topic/canvas\", (msg) => {\r\n            //console.log(msg);\r\n\r\n            let userName = JSON.parse(msg.body).name;\r\n            let simSessionID = JSON.parse(msg.body).sessionID;\r\n            let allLines = JSON.parse(msg.body).lines;\r\n            let isClear = JSON.parse(msg.body).clear;\r\n\r\n            if (isClear) { // clear request\r\n              this.$refs.canvas.clear();\r\n              return;\r\n            } else if (userName && simSessionID && !allLines) {\r\n                // first response upon connect\r\n                if (!this.connected) {\r\n                    this.sessionID = simSessionID;\r\n                    this.connected = true;\r\n                    this.initCanvas();\r\n                }\r\n\r\n                console.log(\"user \" + userName + \", session is: \" + simSessionID);\r\n                return;\r\n            }\r\n\r\n            // paint lines only if not done by yourself\r\n            //if (simSessionID != this.sessionID) {\r\n                //console.log(\"***\" + this.$refs.canvas);\r\n                this.$refs.canvas.paintLines(allLines);\r\n            //}\r\n          });\r\n\r\n          // send join request\r\n          this.stompClient.send(\r\n            \"/app/canvas\",\r\n            JSON.stringify({ name: this.name, lines: null }),\r\n            {}\r\n          );\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n          this.connected = false;\r\n          this.initCanvas();\r\n        }\r\n      );\r\n    },\r\n    disconnect() {\r\n      if (this.stompClient) {\r\n        this.stompClient.disconnect();\r\n      }\r\n      this.connected = false;\r\n      this.initCanvas();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.main {\r\n  justify-content: center;\r\n}\r\n.color-guide {\r\n  margin: 10px 10px;\r\n}\r\nh5 {\r\n  margin-bottom: 10px;\r\n}\r\n.color {\r\n  padding: 7px 15px;\r\n  border-radius: 4px;\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCanvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyCanvas.vue?vue&type=template&id=3709c846&\"\nimport script from \"./MyCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./MyCanvas.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyCanvas.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyCanvas.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","// canvas.directive.js\r\n\r\nfunction inserted(el) {\r\n  const canvas = el;\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  canvas.width = 800;\r\n  canvas.height = 400;\r\n  //canvas.style.cursor = \"pointer\";\r\n\r\n  ctx.lineJoin = 'round';\r\n  ctx.lineCap = 'round';\r\n  //ctx.lineWidth = 5;\r\n\r\n  let prevPos = { x: 0, y: 0 };\r\n  let line = [];\r\n  let isPainting = false;\r\n  let isTouch = false;\r\n\r\n  canvas.sayHello = function () {\r\n    console.log(canvas.myname);\r\n    console.log(canvas.USER_STROKE);\r\n    console.log(canvas.connected);\r\n    console.log(canvas.background);\r\n  }\r\n\r\n  canvas.clear = function () {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  }\r\n\r\n  canvas.paintLines = function (allLines) {\r\n    canvas.parent.sayHello();\r\n\r\n    allLines.forEach(pos => {\r\n      //console.log(pos);\r\n\r\n      const { x: offsetX, y: offsetY } = pos.stop;\r\n      const { x, y } = pos.start;\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = pos.color;\r\n      ctx.lineWidth = pos.width;\r\n      ctx.moveTo(x, y);\r\n      ctx.lineTo(offsetX, offsetY);\r\n      ctx.stroke();\r\n\r\n    });\r\n  }\r\n\r\n  function handleMouseDown(e) {\r\n    //alert(isTouch + \"=\" + e.clientX + \"=\" + e.clientY);\r\n    //alert(e.offsetX + \" and \" + e.offsetY);\r\n\r\n    if (!canvas.connected) return;\r\n\r\n    if (canvas.parent.canvasDisabled()) return;\r\n    \r\n    let { offsetX, offsetY } = e;\r\n    if (isTouch) {\r\n      offsetX = e.clientX;\r\n      offsetY = e.clientY;\r\n      isTouch = false;\r\n    }\r\n\r\n    isPainting = true;\r\n    prevPos = { x: offsetX, y: offsetY };\r\n  }\r\n  function endPaintEvent() {\r\n    if (canvas.parent.canvasDisabled()) return;\r\n    \r\n    if (isPainting) {\r\n      isPainting = false;\r\n      sendPaintData();\r\n    }\r\n  }\r\n  function handleMouseMove(e) {\r\n    if (canvas.parent.canvasDisabled()) return;\r\n\r\n    if (isPainting) {\r\n      let { offsetX, offsetY } = e;\r\n      if (isTouch) {\r\n        offsetX = e.clientX;\r\n        offsetY = e.clientY;\r\n        isTouch = false;\r\n      }\r\n  \r\n      const offSetData = { x: offsetX, y: offsetY };\r\n      const positionInfo = {\r\n        start: { ...prevPos },\r\n        stop: { ...offSetData },\r\n        color: canvas.USER_STROKE,\r\n        width: canvas.lineWidth\r\n      };\r\n      line = line.concat(positionInfo);\r\n      paint(positionInfo);\r\n    }\r\n  }\r\n  function sendPaintData() {\r\n    canvas.parent.send(line);\r\n    line = [];\r\n  }\r\n\r\n  function paint(posInfo) {\r\n    ctx.lineWidth = canvas.lineWidth;\r\n\r\n    const { x: offsetX, y: offsetY } = posInfo.stop;\r\n    const { x, y } = posInfo.start;\r\n    ctx.beginPath();\r\n    ctx.strokeStyle = posInfo.color;\r\n    ctx.moveTo(x, y);\r\n    ctx.lineTo(offsetX, offsetY);\r\n    ctx.stroke();\r\n\r\n    prevPos = { x: offsetX, y: offsetY };\r\n  }\r\n\r\n  canvas.addEventListener('mousedown', handleMouseDown);\r\n  canvas.addEventListener('mousemove', handleMouseMove);\r\n  canvas.addEventListener('mouseup', endPaintEvent);\r\n  canvas.addEventListener('mouseleave', endPaintEvent);\r\n\r\n  // for mobile devices ---------------------------------\r\n  // Set up touch events for mobile, etc\r\n  //canvas.addEventListener(\"touchend\", endPaintEvent);\r\n  const evtMap = { touchstart: \"mousedown\", touchmove: \"mousemove\", touchend: \"mouseup\", touchcancel: \"mouseup\" };\r\n  const evtList = [\"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\"];\r\n  evtList.forEach(evt => {\r\n    canvas.addEventListener(evt, function (e) {\r\n      if (e.target == canvas) {\r\n        let mousePos = getTouchPos(canvas, e);\r\n        isTouch = true;\r\n\r\n        var mouseEvent = new MouseEvent(evtMap[evt], {clientX: mousePos.offsetX, clientY: mousePos.offsetY});\r\n        //alert(mouseEvent.clientX + \"XX\" + mouseEvent.clientY)\r\n        canvas.dispatchEvent(mouseEvent);\r\n\r\n        e.preventDefault();\r\n      }\r\n    }, false);\r\n  });\r\n\r\n  // Get the position of a touch relative to the canvas\r\n  \r\n  function getTouchPos(canvasDom, touchEvent) {\r\n    var rect = canvasDom.getBoundingClientRect();\r\n\r\n    // for touchEvent.type == touchend or touchcancel\r\n    if (touchEvent.touches.length > 0) {\r\n      return {\r\n        offsetX: touchEvent.touches[0].clientX - rect.left,\r\n        offsetY: touchEvent.touches[0].clientY - rect.top\r\n      };\r\n    }\r\n\r\n    return {offsetX: 0, offsetY: 0};\r\n  }\r\n  //---------------------------------------------------\r\n\r\n}\r\n\r\nexport default {\r\n  inserted,\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-dropdown',{staticClass:\"mt-2\",staticStyle:{\"background\":\"white\",\"height\":\"40px\",\"width\":\"80px\",\"padding\":\"0px\"},attrs:{\"id\":\"dropdown-main\",\"variant\":\"outline\"}},[_c('span',{staticStyle:{\"padding\":\"0px\"},attrs:{\"slot\":\"button-content\"},slot:\"button-content\"},[_c('div',{style:(_vm.menuStyle(_vm.currentSize))})]),_vm._l((_vm.currentSizeList),function(i){return _c('b-dropdown-item',{key:i,on:{\"click\":function($event){return _vm.updateValue(i)}}},[_c('div',{style:(_vm.menuStyle(i))})])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-dropdown id=\"dropdown-main\" class=\"mt-2\" variant=\"outline\" style=\"background:white;height:40px;width:80px;padding:0px\">\r\n      <span slot=\"button-content\" style=\"padding:0px\">\r\n        <div :style=\"menuStyle(currentSize)\" />\r\n      </span>\r\n      <b-dropdown-item @click=\"updateValue(i)\" v-for=\"i in currentSizeList\" :key=\"i\">\r\n        <div :style=\"menuStyle(i)\" />\r\n      </b-dropdown-item>\r\n    </b-dropdown>\r\n  </div>    \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"lineSizeMenu\",\r\n  props: ['sizeList', 'color', 'defaultSize'],\r\n  data() {\r\n    return {\r\n      currentSize: 0,\r\n      currentSizeList: [3, 5, 7, 9, 11, 13, 15],\r\n      currentColor: \"black\"\r\n    };\r\n  },\r\n  mounted() {\r\n    if (this.color) this.currentColor = this.color;\r\n    if (this.sizeList) this.currentSizeList = this.sizeList;\r\n    if (this.defaultSize) this.currentSize = this.defaultSize;\r\n\r\n    if (this.currentSize == 0) {\r\n      this.currentSize = this.currentSizeList[0];\r\n    }\r\n  },  \r\n  methods: {\r\n    menuStyle (size) {\r\n      if (this.color) this.currentColor = this.color;\r\n      return \"background:\"+ this.currentColor + \";width:70px;height:\" + size + \"px;\"\r\n    },\r\n    \r\n    updateValue: function (value) {\r\n      this.currentSize = value;\r\n      //console.log(\"hello \" + value);\r\n      this.$emit('input', value);\r\n    }\r\n  }  \r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyLineSizeMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyLineSizeMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyLineSizeMenu.vue?vue&type=template&id=51cfdb7b&\"\nimport script from \"./MyLineSizeMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./MyLineSizeMenu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}