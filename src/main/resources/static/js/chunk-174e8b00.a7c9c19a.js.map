{"version":3,"sources":["webpack:///./src/components/BarcodeCart.vue?2f5d","webpack:///src/components/BarcodeCart.vue","webpack:///./src/components/BarcodeCart.vue?59ae","webpack:///./src/components/BarcodeCart.vue","webpack:///./src/services/BarCodeService.js","webpack:///./src/components/BarcodeCart.vue?2d0b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","started","on","$event","preventDefault","startScan","apply","arguments","_v","fields","itemList","scopedSlots","_u","key","fn","data","item","fake","_e","_s","index","value","price","toLowerCase","replace","toUpperCase","paymentStarted","updateItem","directives","name","rawName","modifiers","expression","barcode","deleteItem","length","amount","proceedToPay","transactionCompleted","cancelPayment","showPaymentAlert","isValidCard","getCardImg","paymentInfo","cardNo","cardBalance","totalCost","newBalance","preConfirmPayment","startOver","ref","type","indexOf","_k","keyCode","verifyPin","model","callback","$$v","pinCode","$refs","hide","staticRenderFns","dummy","showPaymentAlertTimer","computed","methods","clearTimeout","flashAlert","setTimeout","confirmPayment","console","log","pinProtected","pinVerified","show","result","status","barcodeItem","quantity","newValue","test1","alert","imgName","created","mounted","component","BarCodeService","http","get","pin","connected","socket","SockJS","config","websocketURL","stompClient","Stomp","over","connect","frame","subscribe","msg","store","dispatch","JSON","parse","body","send","stringify","error","deleteFlag","disconnect","oldPin","newPin","cardNo1","cardNo2"],"mappings":"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","file":"js/chunk-174e8b00.a7c9c19a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('center',[_c('b-carousel',{staticClass:\"ml-1\"},[_c('b-carousel-slide',{attrs:{\"caption-html\":\"<h3>Welcome to Jack's Store</h3>\",\"text-html\":\"Please use self-checkout. <b><i>Only gift card is accepted.</i></b>\",\"img-src\":\"summer1.png\"}})],1),_c('b-row',{staticClass:\"mb-1 mt-1\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-button',{staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"scan\",\"size\":\"lg\",\"variant\":\"outline-primary\",\"disabled\":_vm.started},on:{\"click\":function($event){$event.preventDefault();return _vm.startScan.apply(null, arguments)}}},[_c('b-icon',{attrs:{\"icon\":\"upc-scan\"}}),_vm._v(\" Start Scanning Barcode\")],1)],1)],1),_c('div',[_c('b-table',{staticClass:\"ml-1\",attrs:{\"small\":\"\",\"fields\":_vm.fields,\"items\":_vm.itemList,\"responsive\":\"sm\"},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [(!data.item.fake)?_c('div',[_vm._v(_vm._s(data.index + 1))]):_vm._e()]}},{key:\"cell(barcode)\",fn:function(data){return [(!data.item.fake)?_c('div',[_c('b-img',{attrs:{\"src\":'barcode/' + data.value.toLowerCase().replace(/\\s/g,'') + '.png',\"rounded\":\"circle\",\"width\":\"24\",\"height\":\"24\"}}),_c('b',{staticClass:\"text-info\"},[_vm._v(_vm._s(data.value.toUpperCase()))])],1):(data.value == 'Tax')?_c('div',[_c('b',[_vm._v(_vm._s(data.value)+\"(\"+_vm._s(data.item.price*100)+\"%)\")])]):_c('div',[_c('b',[_vm._v(_vm._s(data.value))])])]}},{key:\"cell(quantity)\",fn:function(data){return [(!data.item.fake)?_c('div',[_c('b-form-spinbutton',{attrs:{\"id\":\"sb-inline\",\"value\":data.value,\"min\":\"0\",\"max\":\"50\",\"size\":\"sm\",\"inline\":\"\",\"disabled\":_vm.paymentStarted},on:{\"change\":function($event){return _vm.updateItem(data.item, $event)}}}),_c('b-icon',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}},{name:\"show\",rawName:\"v-show\",value:(!_vm.paymentStarted),expression:\"!paymentStarted\"}],staticClass:\"ml-2\",attrs:{\"icon\":\"trash\",\"variant\":\"danger\",\"title\":'Remove ' + data.item.barcode},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteItem(data.item)}}})],1):_vm._e()]}},{key:\"cell(price)\",fn:function(data){return [(!data.item.fake)?_c('div',[_vm._v(\"$\"+_vm._s(data.value))]):_vm._e()]}},{key:\"cell(amount)\",fn:function(data){return [(!data.item.fake)?_c('div',[_c('i',[_vm._v(\"$\"+_vm._s(data.value))])]):_c('div',[_c('b',[_c('i',[_vm._v(\"$\"+_vm._s(data.value))])])])]}},{key:\"cell()\",fn:function(data){return [_c('i',[_vm._v(_vm._s(data.value))])]}}])})],1)],1)],1),_c('div',{staticClass:\"col-md-12\"},[_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"pay\",\"size\":\"lg\",\"variant\":\"outline-primary\",\"disabled\":_vm.itemList.length == 0 || _vm.paymentStarted || _vm.itemList[_vm.itemList.length-1].amount == 0},on:{\"click\":function($event){$event.preventDefault();return _vm.proceedToPay.apply(null, arguments)}}},[_vm._v(\"Finish and Pay\")])],1),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentStarted),expression:\"paymentStarted\"}],staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"cancel\",\"variant\":\"outline-primary\",\"size\":\"lg\",\"disabled\":_vm.paymentStarted == false || _vm.transactionCompleted},on:{\"click\":function($event){$event.preventDefault();return _vm.cancelPayment.apply(null, arguments)}}},[_vm._v(\" Cancel Payment \")])],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-alert',{staticClass:\"ml-1 mt-1\",attrs:{\"show\":_vm.paymentStarted && _vm.showPaymentAlert && !_vm.isValidCard()}},[_c('b',[_vm._v(\"PLEASE SCAN YOUR GIFT CARD ...\")])])],1)],1),_c('b-row',{staticClass:\"mt-2\",attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"cols\":\"9\"}},[_c('b-alert',{staticClass:\"ml-1 mb-0 w-100\",attrs:{\"show\":_vm.paymentStarted && _vm.isValidCard() && !_vm.transactionCompleted,\"variant\":\"success\"}},[_c('b-img',{attrs:{\"src\":_vm.getCardImg(),\"rounded\":\"circle\",\"width\":\"32\",\"height\":\"32\"}}),_c('b-icon',{attrs:{\"icon\":\"credit-card\"}}),_c('b-img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentInfo.pinProtected),expression:\"paymentInfo.pinProtected\"},{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"src\":\"password-protected.png\",\"rounded\":\"circle\",\"width\":\"16\",\"height\":\"16\",\"title\":\"PIN Protected\"}}),_c('b',[_vm._v(\" Card No: \"+_vm._s(_vm.paymentInfo.cardNo)+\", Balance: $\"+_vm._s(_vm.paymentInfo.cardBalance)+\", Total Cost: $\"+_vm._s(_vm.paymentInfo.totalCost)+\" \")]),(_vm.paymentInfo.cardBalance < _vm.paymentInfo.totalCost)?_c('div',[_c('font',{attrs:{\"color\":\"red\"}},[_vm._v(\"Insufficient balance!\")])],1):_vm._e()],1),_c('b-alert',{staticClass:\"ml-1 mb-0 w-100\",attrs:{\"show\":_vm.transactionCompleted && _vm.isValidCard(),\"variant\":\"info\"}},[_c('b',[_vm._v(\"Transaction Completed! \"),_c('br'),_c('b-img',{attrs:{\"src\":_vm.getCardImg(),\"rounded\":\"circle\",\"width\":\"32\",\"height\":\"32\"}}),_c('b-icon',{attrs:{\"icon\":\"credit-card\"}}),_c('b-img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentInfo.pinProtected),expression:\"paymentInfo.pinProtected\"},{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"src\":\"password-protected.png\",\"rounded\":\"circle\",\"width\":\"16\",\"height\":\"16\",\"title\":\"PIN Protected\"}}),_vm._v(\" Card No: \"+_vm._s(_vm.paymentInfo.cardNo)+\", Remaining Balance: $\"+_vm._s(_vm.paymentInfo.newBalance)+\" \")],1)])],1),_c('b-col',{attrs:{\"cols\":\"3\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentStarted && _vm.isValidCard()),expression:\"paymentStarted && isValidCard()\"}],staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"confirmPayment\",\"variant\":\"outline-primary\",\"size\":\"lg\",\"disabled\":_vm.paymentStarted == false ||\n            _vm.paymentInfo.cardBalance < _vm.paymentInfo.totalCost ||\n            _vm.transactionCompleted},on:{\"click\":function($event){$event.preventDefault();return _vm.preConfirmPayment.apply(null, arguments)}}},[_vm._v(\" Confirm Payment \")])],1)],1),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.transactionCompleted),expression:\"transactionCompleted\"}],staticClass:\"badge-default ml-1 mr-1\",attrs:{\"block\":\"\",\"id\":\"startOver\",\"variant\":\"outline-primary\",\"size\":\"lg\",\"disabled\":_vm.paymentStarted == true && !_vm.transactionCompleted},on:{\"click\":function($event){$event.preventDefault();return _vm.startOver.apply(null, arguments)}}},[_vm._v(\" Thanks for Shopping at Jack's Store! \"),_c('b',[_vm._v(\"Click Here to Start Over\")])])],1)],1)],1),_c('b-modal',{ref:\"my-modal-pin\",attrs:{\"title\":'PIN Code for ' + _vm.paymentInfo.cardNo,\"size\":\"sm\",\"centered\":\"\",\"hide-footer\":\"\",\"no-close-on-esc\":\"\",\"no-close-on-backdrop\":\"\",\"hide-header-close\":\"\"}},[_c('b-form-input',{attrs:{\"placeholder\":\"Enter your PIN\",\"type\":\"password\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.verifyPin()}},model:{value:(_vm.pinCode),callback:function ($$v) {_vm.pinCode=$$v},expression:\"pinCode\"}}),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',[_c('b-button',{attrs:{\"variant\":\"outline-success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.verifyPin()}}},[_vm._v(\"OK\")])],1),_c('b-col',[_c('b-button',{attrs:{\"variant\":\"outline-success\",\"block\":\"\"},on:{\"click\":function($event){return _vm.$refs['my-modal-pin'].hide()}}},[_vm._v(\"Cancel\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list row\">\r\n    <div class=\"col-md-12\">\r\n      <center>\r\n        <b-carousel class=\"ml-1\">\r\n          <b-carousel-slide\r\n          caption-html=\"<h3>Welcome to Jack's Store</h3>\"\r\n          text-html=\"Please use self-checkout. <b><i>Only gift card is accepted.</i></b>\"\r\n          img-src=\"summer1.png\">\r\n          </b-carousel-slide>\r\n        </b-carousel>\r\n\r\n      <b-row class=\"mb-1 mt-1\">\r\n        <b-col cols=\"12\">\r\n          <b-button\r\n            block\r\n            id=\"scan\"\r\n            size=\"lg\"\r\n            variant=\"outline-primary\"\r\n            class=\"badge-default ml-1 mr-1\"\r\n            :disabled=\"started\"\r\n            @click.prevent=\"startScan\"\r\n            ><b-icon icon=\"upc-scan\" /> Start Scanning Barcode</b-button\r\n          ></b-col>\r\n      </b-row>\r\n        <div>\r\n          <b-table small :fields=\"fields\" :items=\"itemList\" responsive=\"sm\" class=\"ml-1\">\r\n            <!-- A virtual column -->\r\n            <template #cell(index)=\"data\">\r\n              <div v-if=\"!data.item.fake\">{{ data.index + 1 }}</div>\r\n            </template>\r\n\r\n            <!-- A custom formatted column -->\r\n            <template #cell(barcode)=\"data\">\r\n              <div v-if=\"!data.item.fake\">\r\n                <b-img :src=\"'barcode/' + data.value.toLowerCase().replace(/\\s/g,'') + '.png'\" rounded=\"circle\" width=\"24\" height=\"24\"/>\r\n                <b class=\"text-info\">{{ data.value.toUpperCase() }}</b>\r\n              </div>\r\n              <div v-else-if=\"data.value == 'Tax'\"><b>{{ data.value }}({{data.item.price*100}}%)</b></div>\r\n              <div v-else><b>{{ data.value }}</b></div>\r\n            </template>\r\n\r\n            <template #cell(quantity)=\"data\">\r\n              <div v-if=\"!data.item.fake\">\r\n                <b-form-spinbutton id=\"sb-inline\" :value=\"data.value\" min=0 max=50 size=\"sm\" inline :disabled=\"paymentStarted\" @change=\"updateItem(data.item, $event)\"/>\r\n                <b-icon icon=\"trash\" variant=\"danger\" class=\"ml-2\" v-b-tooltip.hover :title=\"'Remove ' + data.item.barcode\" v-show=\"!paymentStarted\" @click.prevent=\"deleteItem(data.item)\" />\r\n              </div>\r\n            </template>\r\n\r\n            <template #cell(price)=\"data\"> \r\n              <div v-if=\"!data.item.fake\">${{ data.value }}</div>\r\n            </template>\r\n            <template #cell(amount)=\"data\"> \r\n              <div v-if=\"!data.item.fake\"><i>${{ data.value }}</i></div>\r\n              <div v-else><b><i>${{ data.value }}</i></b></div>\r\n            </template>\r\n\r\n            <!-- Optional default data cell scoped slot -->\r\n            <template #cell()=\"data\">\r\n              <i>{{ data.value }}</i>\r\n            </template>\r\n          </b-table>\r\n        </div>\r\n      </center>\r\n    </div>\r\n    <div class=\"col-md-12\">\r\n      <b-row class=\"mt-2\">\r\n        <b-col cols=\"6\">\r\n          <b-button\r\n            block\r\n            id=\"pay\"\r\n            size=\"lg\"\r\n            variant=\"outline-primary\"\r\n            class=\"badge-default ml-1 mr-1\"\r\n            :disabled=\"itemList.length == 0 || paymentStarted || itemList[itemList.length-1].amount == 0\"\r\n            @click.prevent=\"proceedToPay\"\r\n            >Finish and Pay</b-button\r\n          >\r\n        </b-col>\r\n        <b-col cols=\"6\">\r\n          <b-button\r\n            block\r\n            id=\"cancel\"\r\n            variant=\"outline-primary\"\r\n            size=\"lg\"\r\n            class=\"badge-default ml-1 mr-1\"\r\n            v-show=\"paymentStarted\"\r\n            :disabled=\"paymentStarted == false || transactionCompleted\"\r\n            @click.prevent=\"cancelPayment\"\r\n          >\r\n            Cancel Payment\r\n          </b-button>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"12\"\r\n          ><b-alert\r\n            :show=\"paymentStarted && showPaymentAlert && !isValidCard()\"\r\n            class=\"ml-1 mt-1\"\r\n            ><b>PLEASE SCAN YOUR GIFT CARD ...</b></b-alert\r\n          ></b-col\r\n        >\r\n      </b-row>\r\n      <b-row class=\"mt-2\" align-v=\"center\">\r\n        <b-col cols=\"9\">\r\n          <b-alert\r\n            :show=\"paymentStarted && isValidCard() && !transactionCompleted\"\r\n            class=\"ml-1 mb-0 w-100\"\r\n            variant=\"success\"\r\n            >\r\n            <b-img :src=\"getCardImg()\" rounded=\"circle\" width=\"32\" height=\"32\" />\r\n            <b-icon icon=\"credit-card\" />\r\n            <b-img src=\"password-protected.png\" rounded=\"circle\" width=\"16\" height=\"16\" v-show=\"paymentInfo.pinProtected\" v-b-tooltip.hover title=\"PIN Protected\"/>\r\n            <b>\r\n              Card No: {{ paymentInfo.cardNo }}, Balance: ${{\r\n                paymentInfo.cardBalance\r\n              }}, Total Cost: ${{ paymentInfo.totalCost }}\r\n            </b>\r\n            <div v-if=\"paymentInfo.cardBalance < paymentInfo.totalCost\">\r\n              <font color=\"red\">Insufficient balance!</font>\r\n            </div>\r\n          </b-alert>\r\n\r\n          <b-alert\r\n            :show=\"transactionCompleted && isValidCard()\"\r\n            class=\"ml-1 mb-0 w-100\"\r\n            variant=\"info\"\r\n            >\r\n            <b>Transaction Completed! <br/>\r\n              <b-img :src=\"getCardImg()\" rounded=\"circle\" width=\"32\" height=\"32\"/>\r\n              <b-icon icon=\"credit-card\" />\r\n              <b-img src=\"password-protected.png\" rounded=\"circle\" width=\"16\" height=\"16\" v-show=\"paymentInfo.pinProtected\" v-b-tooltip.hover title=\"PIN Protected\" />\r\n              Card No: {{ paymentInfo.cardNo }}, Remaining Balance: ${{ paymentInfo.newBalance }}\r\n            </b>\r\n          </b-alert>\r\n        </b-col>\r\n        <b-col cols=\"3\">\r\n          <b-button\r\n            block\r\n            id=\"confirmPayment\"\r\n            variant=\"outline-primary\"\r\n            size=\"lg\"\r\n            class=\"badge-default ml-1 mr-1\"\r\n            v-show=\"paymentStarted && isValidCard()\"\r\n            :disabled=\"\r\n              paymentStarted == false ||\r\n              paymentInfo.cardBalance < paymentInfo.totalCost ||\r\n              transactionCompleted\r\n            \"\r\n            @click.prevent=\"preConfirmPayment\"\r\n          >\r\n            Confirm Payment\r\n          </b-button>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row class=\"mt-2\">\r\n        <b-col cols=\"12\">\r\n          <b-button\r\n            block\r\n            id=\"startOver\"\r\n            variant=\"outline-primary\"\r\n            size=\"lg\"\r\n            class=\"badge-default ml-1 mr-1\"\r\n            v-show=\"transactionCompleted\"\r\n            :disabled=\"paymentStarted == true && !transactionCompleted\"\r\n            @click.prevent=\"startOver\"\r\n          >\r\n            Thanks for Shopping at Jack's Store! <b>Click Here to Start Over</b>\r\n          </b-button>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n\r\n    <b-modal ref=\"my-modal-pin\" :title=\"'PIN Code for ' + paymentInfo.cardNo\" size=\"sm\" \r\n      centered hide-footer no-close-on-esc no-close-on-backdrop hide-header-close>\r\n      <b-form-input v-model=\"pinCode\" placeholder=\"Enter your PIN\" type=\"password\" @keyup.enter=\"verifyPin()\"></b-form-input>\r\n      <b-row class=\"mt-2\">\r\n        <b-col>\r\n          <b-button variant=\"outline-success\" block @click=\"verifyPin()\">OK</b-button>\r\n        </b-col>\r\n        <b-col>\r\n          <b-button variant=\"outline-success\" block @click=\"$refs['my-modal-pin'].hide()\">Cancel</b-button>\r\n        </b-col>\r\n      </b-row>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport barcodeService from \"../services/BarCodeService\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"barcode-Cart\",\r\n  data() {\r\n    return {\r\n      dummy: [],\r\n      showPaymentAlert: false,\r\n      showPaymentAlertTimer: null,\r\n      fields: [\r\n        // A virtual column that doesn't exist in items\r\n        \"index\",\r\n        // A column that needs custom formatting\r\n        { key: \"barcode\", label: \"Item Name\" },\r\n        { key: \"price\", label: \"Unit Price\" },\r\n        \"quantity\",\r\n        \"amount\",\r\n      ],\r\n      pinCode: \"\",\r\n    };\r\n  },\r\n  computed: mapState(\"barcode\", [\r\n    \"itemList\",\r\n    \"started\",\r\n    \"paymentStarted\",\r\n    \"paymentInfo\",\r\n    \"transactionCompleted\",\r\n  ]),\r\n  methods: {\r\n    startScan() {\r\n      barcodeService.startScan();\r\n    },\r\n    proceedToPay() {\r\n      barcodeService.proceedToPay();\r\n\r\n      if (this.showPaymentAlertTimer) clearTimeout(this.showPaymentAlertTimer);\r\n      this.flashAlert();\r\n    },\r\n    flashAlert() {\r\n      if (this.showPaymentAlertTimer) clearTimeout(this.showPaymentAlertTimer);\r\n      this.showPaymentAlert = !this.showPaymentAlert;\r\n      this.showPaymentAlertTimer = setTimeout(this.flashAlert, 1000);\r\n    },\r\n\r\n    cancelPayment() {\r\n      barcodeService.cancelPayment();\r\n    },\r\n\r\n    confirmPayment() {\r\n      console.log(\"confirmPayment - pinProtected: \" + this.paymentInfo.pinProtected + \", pinVerified: \" + this.paymentInfo.pinVerified);\r\n      barcodeService.confirmPayment();\r\n    },\r\n\r\n    preConfirmPayment() {\r\n      this.pinCode = \"\";\r\n\r\n      console.log(\"preConfirmPayment - pinProtected: \" + this.paymentInfo.pinProtected + \", pinVerified: \" + this.paymentInfo.pinVerified);\r\n\r\n      if (this.paymentInfo.pinProtected && !this.paymentInfo.pinVerified) {\r\n        this.$refs['my-modal-pin'].show();\r\n      } else {\r\n        this.confirmPayment();\r\n      }\r\n    },\r\n\r\n    verifyPin() {\r\n      if (this.pinCode == \"\") {\r\n        return;\r\n      }\r\n\r\n      barcodeService.verifyPin(this.pinCode).then(resp => {\r\n        let result = resp.data;\r\n        console.log(result);\r\n\r\n        let status = result.split(':')[0];\r\n        let message = result.split(':')[1];\r\n\r\n        if (status == \"OK\") {\r\n          this.pinCode = \"\";\r\n\r\n          // sleep for 200 ms to allow server update pinVerified to true\r\n          this.waitInMS(200).then(() => this.confirmPayment());\r\n          this.$refs['my-modal-pin'].hide();\r\n\r\n        } else {\r\n          this.$bvModal.msgBoxOk(message, {centered: true, size: 'sm'})\r\n        }\r\n      });\r\n    },\r\n\r\n    async waitInMS(msec) {\r\n      const delay = ms => new Promise(res => setTimeout(res, ms));\r\n      await delay(msec);\r\n    },\r\n\r\n    startOver() {\r\n      barcodeService.startOver();\r\n    },\r\n\r\n    deleteItem(barcodeItem) {\r\n      barcodeService.deleteItem(barcodeItem);\r\n    },\r\n\r\n    updateItem(barcodeItem, newValue) {\r\n      if (barcodeItem.quantity != newValue) {\r\n        barcodeItem.quantity = newValue;\r\n        barcodeService.updateItem(barcodeItem);\r\n        //console.log(\"new value:\" + newValue)\r\n      }\r\n    },\r\n\r\n    isValidCard() {\r\n      return this.paymentInfo.cardNo != null && this.paymentInfo.cardNo != \"\";\r\n    },\r\n\r\n    test1(item, index) {\r\n      alert(index + \":\" + item);\r\n    },\r\n\r\n    getCardImg() {\r\n      if (this.isValidCard()) {\r\n        let imgName = this.paymentInfo.cardNo.substring(0, this.paymentInfo.cardNo.length - 3)\r\n        //console.log(imgName.toLowerCase() + \".png\")\r\n        return imgName.toLowerCase() + \".png\";\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    barcodeService.connect();\r\n  },\r\n  mounted() {\r\n    this.flashAlert();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.list {\r\n  text-align: left;\r\n  max-width: 750px;\r\n  margin: auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarcodeCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarcodeCart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarcodeCart.vue?vue&type=template&id=17669068&\"\nimport script from \"./BarcodeCart.vue?vue&type=script&lang=js&\"\nexport * from \"./BarcodeCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BarcodeCart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import http from \"../http-common\";\r\nimport SockJS from \"sockjs-client\";\r\nimport Stomp from \"webstomp-client\";\r\nimport config from \"../myconfig.js\";\r\nimport store from \"../store.js\";\r\n\r\nclass BarCodeService {\r\n\r\n  scan(barcode) {\r\n    return http.get(\"../barcode/scan/\" + barcode);\r\n  }\r\n\r\n  getCurrentSessionID() {\r\n    return http.get(\"../barcode/sessionid\");\r\n  }\r\n\r\n  verifyPin(pin) {\r\n    return http.get(\"../barcode/verifyPin/\" + pin);\r\n  }\r\n\r\n  connect() {\r\n\r\n    if (this.connected) {\r\n      console.log(\"already connected\");\r\n      return;\r\n    }\r\n\r\n    this.socket = new SockJS(config.websocketURL);\r\n    this.stompClient = Stomp.over(this.socket);\r\n    this.stompClient.connect(\r\n      {},\r\n      frame => {\r\n\r\n        this.connected = true;\r\n        console.log(frame);\r\n\r\n        this.stompClient.subscribe(\"/topic/barcodeStatus\", msg => {\r\n          //console.log(\"Received message: \" + msg.body);\r\n          store.dispatch(\"barcode/update\", JSON.parse(msg.body));\r\n        });\r\n\r\n        this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({}), {});\r\n      },\r\n      error => {\r\n        console.log(error);\r\n        this.connected = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  startScan() {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({started: true}), {});\r\n  }\r\n\r\n  proceedToPay() {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({paymentStarted: true}), {});\r\n  }\r\n\r\n  cancelPayment() {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({cancelPayment: true}), {});\r\n  }\r\n\r\n  confirmPayment() {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({confirmPayment: true}), {});\r\n  }\r\n\r\n  startOver() {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({startOver: true}), {});\r\n  }\r\n\r\n  deleteItem(barcodeItem) {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({deleteFlag: true, barcodeItem: barcodeItem}), {});\r\n  }\r\n\r\n  updateItem(barcodeItem) {\r\n    this.stompClient.send(\"/app/barcodeStatus\", JSON.stringify({deleteFlag: false, barcodeItem: barcodeItem}), {});\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.stompClient) {\r\n      this.stompClient.disconnect();\r\n    }\r\n    this.connected = false;\r\n  }\r\n\r\n  // for gift card management\r\n  getAllGiftCards() {\r\n    return http.get(\"../barcode/card/all\");\r\n  }\r\n\r\n  changePIN(cardNo, oldPin, newPin) {\r\n    return http.get(\"../barcode/card/changePin/\" + cardNo + \":\" + oldPin + \":\" + newPin);\r\n  }\r\n\r\n  transferBalance(cardNo1, cardNo2, amount, pin) {\r\n    return http.get(\"../barcode/card/transfer/\" + cardNo1 + \":\" + pin + \":\" + cardNo2 + \":\" + amount);\r\n  } \r\n}\r\n\r\nexport default new BarCodeService();\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BarcodeCart.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}