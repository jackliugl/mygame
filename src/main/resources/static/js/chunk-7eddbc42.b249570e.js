(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7eddbc42"],{"0e22":function(e,t,s){"use strict";s("4624")},4624:function(e,t,s){},dc60:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",attrs:{id:"main-content"}},[s("div",{staticClass:"row",staticStyle:{"max-height":"30%","overflow-y":"auto"}},[s("div",{staticClass:"col-md-12"},[s("h3",{attrs:{align:"center"}},[e._v("Welcome to Jack's Private Chat Room")]),s("form",[s("div",{staticClass:"form-group"},[s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("label",{attrs:{for:"name"}},[e._v("Your Name:")]),s("b-input",{staticClass:"form-control ml-1",attrs:{type:"text",id:"name",state:e.nameState,placeholder:"Please enter your name here..."},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("b-form-invalid-feedback",{attrs:{id:"name-feedback"}},[e._v(" Enter at least 3 letters ")])],1),s("b-col",{attrs:{cols:"6"}},[s("b-button",{staticClass:"badge-default ml-1 mr-1",attrs:{block:"",id:"connect",size:"sm",variant:"outline-primary",type:"submit",disabled:1==e.connected||0==e.nameState},on:{click:function(t){return t.preventDefault(),e.connect.apply(null,arguments)}}},[e._v("Join")]),s("b-button",{staticClass:"badge-default ml-1 mr-1",attrs:{block:"",id:"disconnect",variant:"outline-primary",size:"sm",type:"submit",disabled:0==e.connected},on:{click:function(t){return t.preventDefault(),e.disconnect.apply(null,arguments)}}},[e._v(" Leave ")])],1)],1)],1)])])]),s("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"row chatroom"},[s("ul",{staticClass:"messages"},e._l(e.received_messages,(function(t,n){return s("li",{key:n,staticClass:"message"},[s("span",{domProps:{innerHTML:e._s(t)}})])})),0)]),s("div",{staticClass:"row mt-2 mb-2",staticStyle:{height:"5%"}},[s("div",{staticClass:"col-md-12"},[s("form",[s("div",{staticClass:"form-group"},[s("b-row",{attrs:{"no-gutters":""}},[s("b-col",{attrs:{cols:"9"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.send_message,expression:"send_message"}],ref:"message",staticClass:"form-control",attrs:{type:"text",id:"message",disabled:0==e.connected,placeholder:"Please enter your message here..."},domProps:{value:e.send_message},on:{input:function(t){t.target.composing||(e.send_message=t.target.value)}}})]),s("b-col",{attrs:{cols:"3"}},[s("b-button",{staticClass:"badge-default ml-1",attrs:{id:"send",size:"md",block:"",variant:"outline-primary",disabled:0==e.connected,type:"submit"},on:{click:function(t){return t.preventDefault(),e.send.apply(null,arguments)}}},[e._v(" Send ")])],1)],1)],1)])])])])},a=[],o=(s("b0c0"),s("cc7d")),i=s.n(o),c=s("c6e1"),l=s.n(c),r=s("c319"),m={name:"websocketdemo",data:function(){return{name:"",received_messages:[],send_message:"",connected:!1}},computed:{nameState:function(){return this.name.length>=3}},methods:{send:function(){if(this.send_message.length>0&&(console.log("Send message:"+this.send_message),this.stompClient&&this.stompClient.connected)){var e={name:this.name,message:this.send_message};this.stompClient.send("/app/hello",JSON.stringify(e),{}),this.send_message=""}},connect:function(){var e=this;this.socket=new i.a(r["a"].websocketURL),this.stompClient=l.a.over(this.socket),this.stompClient.connect({},(function(t){e.connected=!0,console.log(t),e.stompClient.subscribe("/topic/messages",(function(t){console.log(t);var s=JSON.parse(t.body).timestamp,n=JSON.parse(t.body).name,a=JSON.parse(t.body).message,o=new Date(s),i=o.toLocaleString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});n&&(a="<b>"+n+"</b>: "+a),a=i+": "+a,e.received_messages.push(a)})),e.stompClient.send("/app/hello",JSON.stringify({name:e.name,message:null}),{})}),(function(t){console.log(t),e.connected=!1})),this.$refs.message.focus()},disconnect:function(){this.stompClient&&this.stompClient.disconnect(),this.connected=!1},tickleConnection:function(){this.connected?this.disconnect():this.connect()}},mounted:function(){}},d=m,u=(s("0e22"),s("2877")),p=Object(u["a"])(d,n,a,!1,null,"03d57634",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-7eddbc42.b249570e.js.map