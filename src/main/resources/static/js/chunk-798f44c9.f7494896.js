(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-798f44c9"],{"039a":function(e,t,s){"use strict";s("7174")},"0cb2":function(e,t,s){var r=s("7b0b"),n=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,s,c,l,u){var d=s+e.length,g=c.length,m=i;return void 0!==l&&(l=r(l),m=a),o.call(u,m,(function(r,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,s);case"'":return t.slice(d);case"<":a=l[o.slice(1,-1)];break;default:var i=+o;if(0===i)return r;if(i>g){var u=n(i/10);return 0===u?r:u<=g?void 0===c[u-1]?o.charAt(1):c[u-1]+o.charAt(1):r}a=c[i-1]}return void 0===a?"":a}))}},"25f0":function(e,t,s){"use strict";var r=s("6eeb"),n=s("825a"),o=s("d039"),a=s("ad6d"),i="toString",c=RegExp.prototype,l=c[i],u=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=i;(u||d)&&r(RegExp.prototype,i,(function(){var e=n(this),t=String(e.source),s=e.flags,r=String(void 0===s&&e instanceof RegExp&&!("flags"in c)?a.call(e):s);return"/"+t+"/"+r}),{unsafe:!0})},"2ca0":function(e,t,s){"use strict";var r=s("23e7"),n=s("06cf").f,o=s("50c4"),a=s("5a34"),i=s("1d80"),c=s("ab13"),l=s("c430"),u="".startsWith,d=Math.min,g=c("startsWith"),m=!l&&!g&&!!function(){var e=n(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!m&&!g},{startsWith:function(e){var t=String(i(this));a(e);var s=o(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,s):t.slice(s,s+r.length)===r}})},3410:function(e,t,s){"use strict";var r=s("d4ec"),n=s("bee2"),o=(s("2ca0"),s("ac1f"),s("1276"),s("5319"),s("c427")),a=s("cc7d"),i=s.n(a),c=s("c6e1"),l=s.n(c),u=s("c0d6"),d=s("41cb"),g=s("c319"),m=function(){function e(){Object(r["a"])(this,e)}return Object(n["a"])(e,[{key:"qrLogin",value:function(e){return o["a"].get("../qr-code/login/"+e)}},{key:"getCurrentSessionID",value:function(){return o["a"].get("../qr-code/sessionid")}},{key:"connect",value:function(e){var t=this;this.socket=new i.a(g["a"].websocketURL),this.stompClient=l.a.over(this.socket),this.stompClient.connect({},(function(s){t.connected=!0,console.log(s),t.stompClient.subscribe("/topic/messages/"+e,(function(e){if(console.log(e.body),e.body.startsWith("Login Success")){var s=e.body.split(":")[1];t.loginSuccess(s)}})),t.stompClient.send("/app/hello/"+e,JSON.stringify("hello from QR client!"),{})}),(function(e){console.log(e),t.connected=!1}))}},{key:"disconnect",value:function(){this.stompClient&&this.stompClient.disconnect(),this.connected=!1}},{key:"loginSuccess",value:function(e){o["a"].get("../qr-code/loginStatus").then((function(t){200===t.status&&o["a"].get("/userinfo").then((function(t){console.log(t.data),localStorage.setItem("LoggedUserRoles",t.data.split("|")[1]),u["a"].commit("loggedIn",t.data),localStorage.setItem("LoggedUser",e),d["a"].replace("/dashboard")})).catch((function(e){return console.log(e)}))}))}}]),e}();t["a"]=new m},5319:function(e,t,s){"use strict";var r=s("d784"),n=s("825a"),o=s("50c4"),a=s("a691"),i=s("1d80"),c=s("8aa5"),l=s("0cb2"),u=s("14c3"),d=Math.max,g=Math.min,m=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,s,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=r.REPLACE_KEEPS_$0,v=f?"$":"$0";return[function(s,r){var n=i(this),o=void 0==s?void 0:s[e];return void 0!==o?o.call(s,n,r):t.call(String(n),s,r)},function(e,r){if(!f&&h||"string"===typeof r&&-1===r.indexOf(v)){var i=s(t,e,this,r);if(i.done)return i.value}var p=n(e),b=String(this),w="function"===typeof r;w||(r=String(r));var S=p.global;if(S){var C=p.unicode;p.lastIndex=0}var R=[];while(1){var x=u(p,b);if(null===x)break;if(R.push(x),!S)break;var y=String(x[0]);""===y&&(p.lastIndex=c(b,o(p.lastIndex),C))}for(var L="",M=0,k=0;k<R.length;k++){x=R[k];for(var E=String(x[0]),_=d(g(a(x.index),b.length),0),I=[],U=1;U<x.length;U++)I.push(m(x[U]));var Q=x.groups;if(w){var $=[E].concat(I,_,b);void 0!==Q&&$.push(Q);var q=String(r.apply(void 0,$))}else q=l(E,b,_,I,Q,r);_>=M&&(L+=b.slice(M,_)+q,M=_+E.length)}return L+b.slice(M)}]}))},"578a":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loginWindowDiv",attrs:{id:"login"}},[s("h3",{staticClass:"text-center pt-5"},[e._v("Welcome to My Tutorials")]),s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center align-items-center",attrs:{id:"login-row"}},[s("div",{staticClass:"col-md-6",attrs:{id:"login-column"}},[s("div",{staticClass:"col-md-12",attrs:{id:"login-box"}},[s("form",{staticClass:"form",attrs:{id:"login-form"},on:{submit:function(t){return t.preventDefault(),e.login()}}},[s("b-row",[s("b-col",{staticClass:"text-center",attrs:{offset:"4"}},[s("h3",[e._v("Login")])]),s("b-col",{staticClass:"text-right"},[s("b-link",{on:{click:function(t){return e.toggleLogin()}}},[e._v(e._s(e.loginLinkText))])],1)],1),s("b-alert",{attrs:{show:e.errorMessage.length,variant:"warning"}},[e._v(" "+e._s(e.errorMessage)+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showQRcode,expression:"showQRcode"}],attrs:{id:"login-qrcode"}},[s("br"),s("b-img",{attrs:{center:"",src:e.qrCodeURL}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showQRcode,expression:"!showQRcode"}],attrs:{id:"login-content"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-info",attrs:{for:"username"}},[e._v("Username:")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"username",autofocus:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-info",attrs:{for:"password"}},[e._v("Password:")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-info",attrs:{for:"remember-me"}},[s("span",[e._v("Remember me ")]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberMe,expression:"rememberMe"}],attrs:{id:"rememberMe",name:"rememberMe",type:"checkbox"},domProps:{checked:Array.isArray(e.rememberMe)?e._i(e.rememberMe,null)>-1:e.rememberMe},on:{change:function(t){var s=e.rememberMe,r=t.target,n=!!r.checked;if(Array.isArray(s)){var o=null,a=e._i(s,o);r.checked?a<0&&(e.rememberMe=s.concat([o])):a>-1&&(e.rememberMe=s.slice(0,a).concat(s.slice(a+1)))}else e.rememberMe=n}}})])]),s("br"),s("input",{staticClass:"btn btn-info btn-md",attrs:{type:"submit",name:"submit"}})]),s("div",{staticClass:"text-right",attrs:{id:"register-link"}},[s("b-link",{staticClass:"text-info",attrs:{href:"#"}},[e._v("Register here")])],1)])],1)])])])])])},n=[],o=(s("ac1f"),s("5319"),s("1276"),s("d3b7"),s("25f0"),s("c427")),a=s("2b0e"),i=s("3410"),c=s("c319"),l={name:"Login",data:function(){return{errorMessage:"",messageSessionExpired:"Your session has expired. Please log in",username:"",password:"",rememberMe:!1,loginLinkText:"QRCode Login",showQRcode:!1,currentSessionID:"",qrCodeURL:""}},methods:{login:function(){var e=this,t=this;if(""!=t.username)if(""!=t.password){this.username=t.username;var s=new FormData;s.set("username",t.username),s.set("password",t.password),s.set("remember-me",t.rememberMe),o["a"].post("../login",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){return e.loginSuccessful(t)})).catch((function(t){return e.loginError(t)}))}else this.errorMessage="password field is empty";else this.errorMessage="username field is empty"},loginSuccessful:function(e){var t=this;if(200===e.status)if(console.log(e.request.responseURL),-1===e.request.responseURL.indexOf("?"))console.log("Auth successful"),localStorage.setItem("LoggedUser",this.username),this.$router.replace("/dashboard"),o["a"].get("/userinfo").then((function(e){console.log(e.data),localStorage.setItem("LoggedUserRoles",e.data.split("|")[1]),t.$store.commit("loggedIn",e.data)})).catch((function(e){return console.log(e)}));else{var s=e.request.responseURL.split("?");"error"===s[1]&&(this.errorMessage="Invalid username and password",a["default"].showErrorToast({title:this.errorMessage}),localStorage.clear())}else console.log(e)},loginError:function(e){console.log("*********** ERROR **********"),console.log(e),this.errorMessage="Failed on "+o["a"].defaults.baseURL+": "+e.toString()},toggleLogin:function(){var e=this;this.showQRcode=!this.showQRcode,this.loginLinkText=this.showQRcode?"Form Login":"QRCode Login",this.showQRcode?(this.qrCodeURL=c["a"].baseQRURL,i["a"].getCurrentSessionID().then((function(t){e.currentSessionID=t.data,console.log("current session id: "+e.currentSessionID),i["a"].connect(e.currentSessionID)}))):i["a"].disconnect()}}},u=l,d=(s("039a"),s("2877")),g=Object(d["a"])(u,r,n,!1,null,null,null);t["default"]=g.exports},7174:function(e,t,s){}}]);
//# sourceMappingURL=chunk-798f44c9.f7494896.js.map